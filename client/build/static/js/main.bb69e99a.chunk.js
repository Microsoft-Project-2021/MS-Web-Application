(this.webpackJsonpms2021=this.webpackJsonpms2021||[]).push([[0],{170:function(e,n){},172:function(e,n){},185:function(e,n,t){"use strict";t.r(n);var a,r,c,i,s=t(1),o=t.n(s),l=t(37),d=t.n(l),b=t(30),j=t(29),u=t(39),p=t(26),x=t(17),h=t(84),f=t(7);var O,m,g,v,w,y,k=function(){var e=Object(s.useState)(!1),n=Object(x.a)(e,2),t=(n[0],n[1]),a=Object(s.useState)(!1),r=Object(x.a)(a,2),c=(r[0],r[1]);return Object(f.jsxs)(S,{children:[Object(f.jsx)(h.a,{children:Object(f.jsx)("title",{children:"OmniDoc KE"})}),Object(f.jsx)(C,{children:"OmniDoc"}),Object(f.jsxs)(N,{children:[Object(f.jsx)("button",{class:"link",children:"Home"}),Object(f.jsx)("button",{class:"link",children:"Partners"}),Object(f.jsx)("button",{class:"link",children:"Services"}),Object(f.jsx)("button",{class:"link",children:"About us"})]}),Object(f.jsxs)(I,{children:[Object(f.jsx)("button",{class:"auth",onClick:function(){return t(!0)},children:"Signup"}),Object(f.jsx)("button",{class:"auth",onClick:function(){return c(!0)},children:"Login"})]})]})},S=j.a.div(a||(a=Object(b.a)(["\n    height: 100px;\n    box-shadow: 0 .125rem .25rem rgba(0,0,0,.075)!important;\n"]))),C=j.a.div(r||(r=Object(b.a)(['\n    display: inline;\n    font-family: "Segoe UI";\n    font-weight: 630;\n    font-size: 3em;\n    color: #1e90ff;\n']))),N=j.a.div(c||(c=Object(b.a)(['\n    display: inline-flex;\n    margin-left: 50px;\n\n    .link{\n        background: white;\n        border: none;\n        color: inherit;\n        font-family: "Segoe UI";\n        font-size: 20px;\n        height: 100px;\n        margin-right: 50px;\n        width: 100px;\n    }\n\n    .link:hover{\n        background: #1e90ff;\n        border: 2px #1e90ff;\n        color: white;\n    }\n']))),I=j.a.div(i||(i=Object(b.a)(['\n    display: inline-flex;\n    float: right;\n\n    .auth{\n        background: white;\n        border: none;\n        font-family: "Segoe UI";\n        font-size: 20px;\n        height: 100px;\n        margin-right: 20px;\n        width: 100px;\n    }\n\n    .auth:hover{\n        background: #1e90ff;\n        color: white;\n    }\n']))),U=t(0),z=t.n(U),D=t(4),R=t(227),E=t(117),P=t(71),F=t(118),L=t(57),B=t(94),A={apiKey:"AIzaSyD3trlf_jLcVVF2GcsBz8FQUuKCYa-x2Zc",authDomain:"ms-project-12878.firebaseapp.com",projectId:"ms-project-12878",storageBucket:"ms-project-12878.appspot.com",messagingSenderId:"9238125874",appId:"1:9238125874:web:deedcb099ad4e4facd8b2b"},V=Object(E.a)(A),H=B.a.initializeApp(A),T=Object(P.b)(V),q=(Object(F.a)(V),Object(L.a)(V)),M=B.a.auth,W=(H.database,H.firestore,o.a.createContext());function G(){return Object(s.useContext)(W)}function K(e){var n=e.children,t=Object(s.useState)(),a=Object(x.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)(!0),o=Object(x.a)(i,2),l=o[0],d=o[1];Object(s.useEffect)((function(){return T.onAuthStateChanged((function(e){c(e),d(!1)}))}),[]);var b={currentUser:r,register:function(e,n){return Object(P.a)(T,e,n)},login:function(e,n){return Object(P.c)(T,e,n)},logout:function(){return Object(P.d)(T)}};return Object(f.jsx)(W.Provider,{value:b,children:!l&&n})}var _,Y=function(){var e=Object(p.h)(),n=Object(s.useRef)(),t=Object(s.useRef)(),a=G().login,r=Object(s.useState)(""),c=Object(x.a)(r,2),i=c[0],o=c[1],l=Object(s.useState)(!1),d=Object(x.a)(l,2),b=d[0],j=d[1];function h(){return(h=Object(D.a)(z.a.mark((function r(c){return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.prev=1,o(""),j(!0),r.next=6,a(n.current.value,t.current.value);case 6:e("/Dashboard"),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),o("Failed to sign in"),console.log("unsuccessful");case 13:j(!1);case 14:case"end":return r.stop()}}),r,null,[[1,9]])})))).apply(this,arguments)}return Object(f.jsx)(J,{children:Object(f.jsxs)(Q,{children:[Object(f.jsx)("h1",{children:"Log In"}),i&&Object(f.jsx)(R.a,{variant:"danger",children:i}),Object(f.jsxs)("form",{onSubmit:function(e){return h.apply(this,arguments)},children:[Object(f.jsx)(Z,{children:Object(f.jsx)("input",{type:"text",autoFocus:!0,required:!0,ref:n,placeholder:"Username/ID"})}),Object(f.jsx)(X,{children:Object(f.jsx)("input",{input:!0,type:"password",required:!0,ref:t,placeholder:"Password"})}),Object(f.jsx)($,{children:Object(f.jsx)("button",{type:"submit",disabled:b,children:" Login "})}),Object(f.jsx)(ee,{children:Object(f.jsx)(u.b,{class:"link",to:"/PasswordReset",children:"Forgot Password?"})}),Object(f.jsxs)(ee,{children:["Need an account? ",Object(f.jsx)(u.b,{to:"/Register",children:"Register"})]})]})]})})},J=j.a.div(O||(O=Object(b.a)(['\n    /* border: 1px solid black; */\n    height: auto;\n    width:  auto;\n    padding: 10px;\n    background-image: url("images/bg_img.svg");\n    background-repeat: no-repeat;\n    background-size: cover;     \n']))),Q=j.a.div(m||(m=Object(b.a)(["\n    /* border: 1px solid black; */\n    background-color: white;\n    height: 600px;\n    padding: 20px 0 0 0;\n    border-radius: 15px;\n    margin: 50px 20px 0 70%;\n    justify-content: center;\n    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;   \n\n    h1{\n        font-family: Calibri;\n        font-size: 60px;\n        font-weight:500;\n        text-align: center;\n        font-size: 44px;\n    }\n        /* margin-top: 50px; */\n\n    form{\n        padding: 30px 25px;\n        margin: 70px 20px;\n        height: 400px;\n        display: flex;\n        flex-wrap: wrap;\n        flex-direction: column;\n\n        input{\n            width: 100%;\n            outline: none;\n            border: none;\n            font-size: 20px;\n            border-bottom: 1px solid lightgrey;\n        }\n    }\n"]))),Z=j.a.div(g||(g=Object(b.a)(['\n    /* border: 1px solid black;  */\n    display: flex;\n    justify-content: center;\n    font-family: "Segoe UI"\n\n']))),X=j.a.div(v||(v=Object(b.a)(['\n    margin: 75px 0 0 0;\n    display: flex;\n    justify-content: center;\n    font-family: "Segoe UI"\n']))),$=j.a.div(w||(w=Object(b.a)(["\n    /* border: 1px solid black; */\n    margin: 70px 0 0 0;\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    \n    button{\n        width: 50%;\n        font-family: Calibri;\n        font-size: 25px;\n        margin: 0px 11% 0 11%;\n        padding: 15px;\n        color: white;\n        background-color: #1E90FF;\n        border-radius: 50px;\n        border:none;\n        cursor: pointer;\n    }\n"]))),ee=j.a.div(y||(y=Object(b.a)(['\n    display: flex;\n    justify-content: center;\n\n    .link{\n        text-decoration: none;\n        color: inherit;\n        font-family: "Segoe UI";\n        font-size: 15px;\n        margin-top: 15px;\n    }    \n'])));var ne,te,ae,re,ce,ie=function(){return Object(f.jsx)(se,{children:Object(f.jsx)(k,{})})},se=j.a.div(_||(_=Object(b.a)(["\n\n"])));var oe,le,de,be,je,ue,pe=function(){var e=Object(p.h)();return Object(f.jsx)(xe,{children:Object(f.jsxs)(he,{children:[Object(f.jsx)("h1",{children:"Reset Password"}),Object(f.jsxs)("form",{onSubmit:function(n){n.preventDefault(),console.log("Pasword Reset Submit button pressed"),e("/ChangePassword")},children:[Object(f.jsx)(fe,{children:Object(f.jsx)("input",{placeholder:"Username/ID"})}),Object(f.jsx)(Oe,{children:Object(f.jsx)("button",{type:"submit",children:" Submit "})}),Object(f.jsx)(me,{children:Object(f.jsx)(u.b,{class:"link",to:"/Login",children:"Back To Login"})})]})]})})},xe=j.a.div(ne||(ne=Object(b.a)(['\n    /* border: 1px solid black; */\n    height: auto;\n    width:  auto;\n    padding: 10px;\n    background-image: url("images/bg_img.svg");\n    background-repeat: no-repeat;\n    background-size: cover;    \n']))),he=j.a.div(te||(te=Object(b.a)(["\n    /* border: 1px solid black; */\n    background-color: white;\n    height: 600px;\n    /* width: 400px; */\n    padding: 20px 0 0 0;\n    border-radius: 15px;\n    margin: 50px 20px 0 70%;\n    justify-content: center;\n    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;   \n\n    h1{\n        font-family:Calibri;\n        font-size: 60px;\n        font-weight:500;\n        text-align: center;\n        /* margin-top: 50px; */\n        /* border: 1px solid black; */\n    }\n\n    form{\n        /* border: 1px solid black; */\n        padding: 30px 25px;\n        margin: 70px 20px;\n        height: 400px;\n        display: flex;\n        flex-wrap: wrap;\n        flex-direction: column;\n        /* justify-content: center; */\n\n        input{\n            width: 100%;\n            outline: none;\n            border: none;\n            font-size: 20px;\n            border-bottom: 1px solid lightgrey;\n        }\n    }\n"]))),fe=j.a.div(ae||(ae=Object(b.a)(['\n    /* border: 1px solid black;  */\n    display: flex;\n    justify-content: center;\n    font-family: "Segoe UI"\n']))),Oe=j.a.div(re||(re=Object(b.a)(["\n    /* border: 1px solid black; */\n    margin: 70px 0 0 0;\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    \n    button{\n        width: 50%;\n        font-family: Calibri;\n        font-size: 25px;\n        margin: 0px 11% 0 11%;\n        padding: 15px;\n        color: white;\n        background-color: #1E90FF;\n        border-radius: 50px;\n        border:none;\n        cursor: pointer;\n    }\n"]))),me=j.a.div(ce||(ce=Object(b.a)(['\n    display: flex;\n    justify-content: center;\n\n    .link{\n        text-decoration: none;\n        color: inherit;\n        font-family: "Segoe UI";\n        font-size: 15px;\n        margin-top: 15px;\n    }    \n'])));var ge=function(){var e=Object(p.h)();return Object(f.jsx)(ve,{children:Object(f.jsxs)(we,{children:[Object(f.jsx)("h1",{children:"Reset Password"}),Object(f.jsxs)("form",{onSubmit:function(n){n.preventDefault(),console.log("Reset button pressed"),e("/")},children:[Object(f.jsx)(ye,{children:Object(f.jsx)("input",{placeholder:"Enter Previous Password"})}),Object(f.jsx)(ke,{children:Object(f.jsx)("input",{placeholder:"Enter New Password"})}),Object(f.jsx)(Se,{children:Object(f.jsx)("input",{placeholder:"Confirm Password"})}),Object(f.jsx)(Ce,{children:Object(f.jsx)("button",{type:"submit",children:" Reset "})})]})]})})},ve=j.a.div(oe||(oe=Object(b.a)(['\n    /* border: 1px solid black; */\n    height: auto;\n    width:  auto;\n    padding: 10px;\n    background-image: url("images/bg_img.svg");\n    background-repeat: no-repeat;\n    background-size: cover;    \n']))),we=j.a.div(le||(le=Object(b.a)(["\n    /* border: 1px solid black; */\n    background-color: white;\n    height: 600px;\n    /* width: 400px; */\n    padding: 20px 0 0 0;\n    border-radius: 15px;\n    margin: 50px 20px 0 70%;\n    justify-content: center;\n    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;   \n\n    h1{\n        font-family:Calibri;\n        font-size: 60px;\n        font-weight:500;\n        text-align: center;\n        /* margin-top: 50px; */\n        /* border: 1px solid black; */\n    }\n\n    form{\n        /* border: 1px solid black; */\n        padding: 30px 25px;\n        margin: 70px 20px;\n        height: 400px;\n        display: flex;\n        flex-wrap: wrap;\n        flex-direction: column;\n        /* justify-content: center; */\n\n        input{\n            width: 100%;\n            outline: none;\n            border: none;\n            font-size: 20px;\n            border-bottom: 1px solid lightgrey;\n        }\n    }\n"]))),ye=j.a.div(de||(de=Object(b.a)(['\n    /* border: 1px solid black;  */\n    display: flex;\n    font-family: "Segoe UI";\n\n    input::-webkit-input-placeholder {\n        text-align: center;\n    }\n      \n    input:-moz-placeholder {\n        text-align: center;\n    }\n    \n']))),ke=j.a.div(be||(be=Object(b.a)(['\n    margin: 50px 0 0 0;\n    display: flex;\n    font-family: "Segoe UI";\n\n    input::-webkit-input-placeholder {\n        text-align: center;\n    }\n      \n    input:-moz-placeholder {\n        text-align: center;\n    }\n']))),Se=j.a.div(je||(je=Object(b.a)(['\n    margin: 50px 0 0 0;\n    display: flex;\n    font-family: "Segoe UI";\n\n    input::-webkit-input-placeholder {\n        text-align: center;\n    }\n      \n    input:-moz-placeholder {\n        text-align: center;\n    }\n\n']))),Ce=j.a.div(ue||(ue=Object(b.a)(["\n    /* border: 1px solid black; */\n    margin: 50px 0 0 0;\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    \n    button{\n        width: 50%;\n        font-family: Calibri;\n        font-size: 25px;\n        margin: 0px 11% 0 11%;\n        padding: 15px;\n        color: white;\n        background-color: #1E90FF;\n        border-radius: 50px;\n        border:none;\n        cursor: pointer;\n    }\n"]))),Ne=t(6),Ie=t(225),Ue=t(220),ze=t(215),De=t(218),Re=t(186),Ee=t(126),Pe=t(93),Fe=t.n(Pe),Le=Object(s.createContext)(),Be=Object(Ee.a)("https://omnidocms.herokuapp.com"),Ae=function(e){var n=e.children,t=Object(s.useState)(!1),a=Object(x.a)(t,2),r=a[0],c=a[1],i=Object(s.useState)(!1),o=Object(x.a)(i,2),l=o[0],d=o[1],b=Object(s.useState)(),j=Object(x.a)(b,2),u=j[0],p=j[1],h=Object(s.useState)(""),O=Object(x.a)(h,2),m=O[0],g=O[1],v=Object(s.useState)({}),w=Object(x.a)(v,2),y=w[0],k=w[1],S=Object(s.useState)(""),C=Object(x.a)(S,2),N=C[0],I=C[1],U=Object(s.useRef)(),z=Object(s.useRef)(),D=Object(s.useRef)();Object(s.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){try{p(e),U.current.srcObject=e}catch(n){console.log(n.message)}})),Be.on("me",(function(e){return I(e)})),Be.on("callUser",(function(e){var n=e.from,t=e.name,a=e.signal;k({isReceivingCall:!0,from:n,name:t,signal:a})}))}),[]);return Object(f.jsx)(Le.Provider,{value:{call:y,callAccepted:r,myVideo:U,userVideo:z,stream:u,name:m,setName:g,callEnded:l,me:N,callUser:function(e){var n=new Fe.a({initiator:!0,trickle:!1,stream:u});n.on("signal",(function(n){Be.emit("callUser",{userToCall:e,signalData:n,from:N,name:m})})),n.on("stream",(function(e){z.current.srcObject=e})),Be.on("callAccepted",(function(e){c(!0),n.signal(e)})),D.current=n},leaveCall:function(){d(!0),D.current.destroy(),window.location.reload()},answerCall:function(){c(!0);var e=new Fe.a({initiator:!1,trickle:!1,stream:u});e.on("signal",(function(e){Be.emit("answerCall",{signal:e,to:y.from})})),e.on("stream",(function(e){z.current.srcObject=e})),e.signal(y.signal),D.current=e}},children:n})},Ve=Object(ze.a)((function(e){return{video:Object(Ne.a)({width:"550px"},e.breakpoints.down("xs"),{width:"300px"}),gridContainer:Object(Ne.a)({justifyContent:"center"},e.breakpoints.down("xs"),{flexDirection:"column"}),paper:{padding:"10px",border:"2px solid black",margin:"10px"}}})),He=function(){var e=Object(s.useContext)(Le),n=e.name,t=e.callAccepted,a=e.myVideo,r=e.userVideo,c=e.callEnded,i=e.stream,o=e.call,l=Ve();return Object(f.jsxs)(De.a,{container:!0,className:l.gridContainer,children:[i&&Object(f.jsx)(Re.a,{className:l.paper,children:Object(f.jsxs)(De.a,{item:!0,xs:12,md:6,children:[Object(f.jsx)(Ue.a,{variant:"h5",gutterBottom:!0,children:n||"Name"}),Object(f.jsx)("video",{playsInline:!0,muted:!0,ref:a,autoPlay:!0,className:l.video})]})}),t&&!c&&Object(f.jsx)(Re.a,{className:l.paper,children:Object(f.jsxs)(De.a,{item:!0,xs:12,md:6,children:[Object(f.jsx)(Ue.a,{variant:"h5",gutterBottom:!0,children:o.name||"Name"}),Object(f.jsx)("video",{playsInline:!0,ref:r,autoPlay:!0,className:l.video})]})})]})},Te=t(221),qe=t(228),Me=t(230),We=t(125),Ge=t(222),Ke=t(223),_e=t(224),Ye=Object(ze.a)((function(e){return{root:{display:"flex",flexDirection:"column"},gridContainer:Object(Ne.a)({width:"100%"},e.breakpoints.down("xs"),{flexDirection:"column"}),container:Object(Ne.a)({width:"600px",margin:"35px 0",padding:0},e.breakpoints.down("xs"),{width:"80%"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:"10px 20px",border:"2px solid black"}}})),Je=function(e){var n=e.children,t=Object(s.useContext)(Le),a=t.me,r=t.callAccepted,c=t.name,i=t.setName,o=t.callEnded,l=t.leaveCall,d=t.callUser,b=Object(s.useState)(""),j=Object(x.a)(b,2),u=j[0],p=j[1],h=Ye();return Object(f.jsx)(Te.a,{className:h.container,children:Object(f.jsxs)(Re.a,{elevation:10,className:h.paper,children:[Object(f.jsx)("form",{className:h.root,noValidate:!0,autoComplete:"off",children:Object(f.jsxs)(De.a,{container:!0,className:h.gridContainer,children:[Object(f.jsxs)(De.a,{item:!0,xs:12,md:6,className:h.padding,children:[Object(f.jsx)(Ue.a,{gutterBottom:!0,variant:"h6",children:"Account Info"}),Object(f.jsx)(qe.a,{label:"Name",value:c,onChange:function(e){return i(e.target.value)},fullWidth:!0}),Object(f.jsx)(We.CopyToClipboard,{text:a,className:h.margin,children:Object(f.jsx)(Me.a,{variant:"contained",color:"primary",fullWidth:!0,startIcon:Object(f.jsx)(Ge.a,{fontSize:"large"}),children:"Copy Your ID"})})]}),Object(f.jsxs)(De.a,{item:!0,xs:12,md:6,className:h.padding,children:[Object(f.jsx)(Ue.a,{gutterBottom:!0,variant:"h6",children:"Make a call"}),Object(f.jsx)(qe.a,{label:"ID to call",value:u,onChange:function(e){return p(e.target.value)},fullWidth:!0}),r&&!o?Object(f.jsx)(Me.a,{variant:"contained",color:"secondary",startIcon:Object(f.jsx)(Ke.a,{fontSize:"large"}),fullWidth:!0,onClick:l,className:h.margin,children:"Hang Up"}):Object(f.jsx)(Me.a,{variant:"contained",color:"primary",startIcon:Object(f.jsx)(_e.a,{fontSize:"large"}),fullWidth:!0,onClick:function(){return d(u)},className:h.margin,children:"Call"})]})]})}),n]})})},Qe=function(){var e=Object(s.useContext)(Le),n=e.answerCall,t=e.call,a=e.callAccepted;return Object(f.jsx)(f.Fragment,{children:t.isReceivingCall&&!a&&Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(f.jsxs)("h1",{children:[t.name," is calling:"]}),Object(f.jsx)(Me.a,{variant:"contained",color:"primary",onClick:n,children:"Answer"})]})})},Ze=Object(ze.a)((function(e){return{appBar:Object(Ne.a)({borderRadius:15,margin:"30px 100px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"600px",border:"2px solid black"},e.breakpoints.down("xs"),{width:"90%"}),image:{marginLeft:"15px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}}})),Xe=function(){var e=Ze();return Object(f.jsxs)("div",{className:e.wrapper,children:[Object(f.jsx)(Ie.a,{className:e.appBar,position:"static",color:"inherit",children:Object(f.jsx)(Ue.a,{variant:"h2",align:"center",children:"Video Chat"})}),Object(f.jsx)(He,{}),Object(f.jsx)(Je,{children:Object(f.jsx)(Qe,{})})]})},$e=t(231),en=t(229),nn=t(226);function tn(){var e=Object(s.useRef)(),n=Object(s.useRef)(),t=Object(s.useRef)(),a=G().register,r=Object(s.useState)(""),c=Object(x.a)(r,2),i=c[0],o=c[1],l=Object(s.useState)(!1),d=Object(x.a)(l,2),b=d[0],j=d[1],h=Object(s.useState)(""),O=Object(x.a)(h,2),m=(O[0],O[1],Object(p.h)()),g=G();g.currentUser,g.logout;function v(){return(v=Object(D.a)(z.a.mark((function r(c){return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.preventDefault(),n.current.value===t.current.value){r.next=3;break}return r.abrupt("return",o("Passwords do not match"));case 3:return r.prev=3,o(""),j(!0),r.next=8,a(e.current.value,n.current.value);case 8:Object(L.b)(Object(L.c)(q,"users"),{email:e.current.value,password:n.current.value}),m("/Login"),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(3),o("Failed to create account"),console.log("not");case 16:j(!1);case 17:case"end":return r.stop()}}),r,null,[[3,12]])})))).apply(this,arguments)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)($e.a,{children:Object(f.jsxs)($e.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),i&&Object(f.jsx)(R.a,{variant:"danger",children:i}),Object(f.jsxs)(en.a,{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(f.jsxs)(en.a.Group,{id:"email",children:[Object(f.jsx)(en.a.Label,{children:"Email"}),Object(f.jsx)(en.a.Control,{type:"email",ref:e,required:!0})]}),Object(f.jsxs)(en.a.Group,{id:"password",children:[Object(f.jsx)(en.a.Label,{children:"Password"}),Object(f.jsx)(en.a.Control,{type:"password",ref:n,required:!0})]}),Object(f.jsxs)(en.a.Group,{id:"password-confirm",children:[Object(f.jsx)(en.a.Label,{children:" Confirm Password"}),Object(f.jsx)(en.a.Control,{type:"password",ref:t,required:!0})]}),Object(f.jsx)(nn.a,{disabled:b,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(f.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(f.jsx)(u.b,{to:"/Login",children:" Log In"})]})]})}function an(){var e=Object(s.useState)(""),n=Object(x.a)(e,2),t=n[0],a=n[1],r=G(),c=r.currentUser,i=r.logout,o=Object(p.h)();function l(){return(l=Object(D.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,i();case 4:o("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)($e.a,{children:Object(f.jsxs)($e.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),t&&Object(f.jsx)(R.a,{variant:"danger",children:t}),Object(f.jsx)("strong",{children:"Email:"})," ",c.email,Object(f.jsx)(u.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(f.jsx)("div",{className:"w-100 text-center mt-2",children:Object(f.jsx)(nn.a,{variant:"link",onClick:function(){return l.apply(this,arguments)},children:"Log Out"})})]})}function rn(){return G().currentUser?Object(f.jsx)(p.b,{}):Object(f.jsx)(p.a,{to:"/Login"})}var cn,sn,on,ln,dn=t(3),bn=t(5),jn=t(35),un=t(10),pn=t(11);var xn,hn=function(){return Object(f.jsxs)(fn,{children:[Object(f.jsx)(h.a,{children:Object(f.jsx)("title",{children:"OmniDoc KE"})}),Object(f.jsx)(On,{children:"OmniDoc"}),Object(f.jsxs)(mn,{children:[Object(f.jsx)("button",{class:"link",children:"Home"}),Object(f.jsx)("button",{class:"link",children:"Partners"}),Object(f.jsx)("button",{class:"link",children:"Services"}),Object(f.jsx)("button",{class:"link",children:"About us"})]})]})},fn=j.a.div(cn||(cn=Object(b.a)(["\n    height: 100px;\n    box-shadow: 0 .125rem .25rem rgba(0,0,0,.075)!important;\n"]))),On=j.a.div(sn||(sn=Object(b.a)(['\n    display: inline;\n    font-family: "Segoe UI";\n    font-weight: 630;\n    font-size: 3em;\n    color: #1e90ff;\n']))),mn=j.a.div(on||(on=Object(b.a)(['\n    display: inline-flex;\n    margin-left: 50px;\n\n    .link{\n        background: white;\n        border: none;\n        color: inherit;\n        font-family: "Segoe UI";\n        font-size: 20px;\n        height: 100px;\n        margin-right: 50px;\n        width: 100px;\n    }\n\n    .link:hover{\n        background: #1e90ff;\n        border: 2px #1e90ff;\n        color: white;\n    }\n']))),gn=(j.a.div(ln||(ln=Object(b.a)(['\n    display: inline-flex;\n    float: right;\n\n    .auth{\n        background: white;\n        border: none;\n        font-family: "Segoe UI";\n        font-size: 20px;\n        height: 100px;\n        margin-right: 20px;\n        width: 100px;\n    }\n\n    .auth:hover{\n        background: #1e90ff;\n        color: white;\n    }\n']))),function(e){Object(un.a)(t,e);var n=Object(pn.a)(t);function t(e){var a;return Object(dn.a)(this,t),(a=n.call(this,e)).state={user:M().currentUser,chats:[],content:"",readError:null,writeError:null,loadingChats:!1},a.handleChange=a.handleChange.bind(Object(jn.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(jn.a)(a)),a.myRef=o.a.createRef(),a}return Object(bn.a)(t,[{key:"componentDidMount",value:function(){var e=Object(D.a)(z.a.mark((function e(){var n,t=this;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({readError:null,loadingChats:!0}),n=this.myRef.current;try{q.ref("chats").on("value",(function(e){var a=[];e.forEach((function(e){a.push(e.val())})),a.sort((function(e,n){return e.timestamp-n.timestamp})),t.setState({chats:a}),n.scrollBy(0,n.scrollHeight),t.setState({loadingChats:!1})}))}catch(a){this.setState({readError:a.message,loadingChats:!1})}case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({content:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(D.a)(z.a.mark((function e(n){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),this.setState({writeError:null}),t=this.myRef.current,this.state.user.uid,this.state.content,Date.now();try{Object(L.b)(Object(L.c)(q,"chats"),{content:this.state.content,timestamp:Date.now(),uid:this.state.user.uid}),this.setState({content:""}),t.scrollBy(0,t.scrollHeight)}catch(a){this.setState({writeError:a.message}),console.log("notSuccesful")}case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"formatTime",value:function(e){var n=new Date(e),t="".concat(n.getDate(),"/").concat(n.getMonth()+1,"/").concat(n.getFullYear()," ").concat(n.getHours(),":").concat(n.getMinutes());return t&&t.catch((function(e){console.error(e)})),t}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{children:[Object(f.jsx)(hn,{}),Object(f.jsxs)("div",{className:"py-5 mx-3",children:["Login in as: ",Object(f.jsx)("strong",{className:"text-info",children:this.state.user.email})]}),Object(f.jsxs)("div",{className:"chat-area",ref:this.myRef,children:[this.state.loadingChats?Object(f.jsx)("div",{className:"spinner-border text-success",role:"status",children:Object(f.jsx)("span",{className:"sr-only",children:"Loading..."})}):"",this.state.chats.map((function(n){return Object(f.jsxs)("p",{className:"chat-bubble "+(e.state.user.uid===n.uid?"current-user":""),children:[n.content,Object(f.jsx)("br",{}),Object(f.jsx)("span",{className:"chat-time float-right",children:e.formatTime(n.timestamp)})]},n.timestamp)}))]}),Object(f.jsxs)("form",{onSubmit:this.handleSubmit,className:"mx-3",children:[Object(f.jsx)("textarea",{className:"form-control",name:"content",onChange:this.handleChange,value:this.state.content,children:" "}),this.state.error?Object(f.jsx)("p",{className:"text-danger",children:this.state.error}):null,Object(f.jsx)("button",{type:"submit",className:"btn btn-submit px-5 mt-4 ",children:"Send"})]})]})}}]),t}(s.Component));var vn=function(){return Object(f.jsx)(wn,{children:Object(f.jsx)(u.a,{children:Object(f.jsx)(K,{children:Object(f.jsxs)(p.e,{children:[Object(f.jsx)(p.c,{path:"/",element:Object(f.jsx)(ie,{})}),Object(f.jsx)(p.c,{path:"/login",element:Object(f.jsx)(Y,{})}),Object(f.jsx)(p.c,{path:"/passwordreset",element:Object(f.jsx)(pe,{})}),Object(f.jsx)(p.c,{path:"/changepassword",element:Object(f.jsx)(ge,{})}),Object(f.jsx)(p.c,{path:"/register",element:Object(f.jsx)(tn,{})}),Object(f.jsxs)(p.c,{element:Object(f.jsx)(rn,{}),children:[Object(f.jsx)(p.c,{path:"/dashboard",element:Object(f.jsx)(an,{})}),Object(f.jsx)(p.c,{path:"/chat",element:Object(f.jsx)(gn,{})}),Object(f.jsx)(p.c,{path:"/video",element:Object(f.jsx)(Xe,{})})]})]})})})})},wn=j.a.div(xn||(xn=Object(b.a)(["\n\n"])));t(184);d.a.render(Object(f.jsx)(Ae,{children:Object(f.jsx)(vn,{})}),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.bb69e99a.chunk.js.map